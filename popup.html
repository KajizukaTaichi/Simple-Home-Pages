<!doctype html>
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    </head>

    <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        
        let key = urlParams.get('msg');
        let message;

        if (key !== null) {
            message = key;
            document.title = key;
        }

        key = urlParams.get('color');
        let color;

        if (key !== null) {
            color = key;
        }

        key = urlParams.get('back');
        let back;

        if (key !== null) {
            back = key;
        }

        key = urlParams.get('time');
        let time;

        if (key !== null) {
            time = key;
        } else {
            time = 500;
        }
        
        let count = 10;
        let addpopup = function() {
            let popup = document.createElement("div");     

            let max = document.documentElement.clientHeight - 300;
            popup.style.top = `${Math.floor(Math.random() * max)}px`;
            max = document.documentElement.clientWidth - 500;
            popup.style.left = `${Math.floor(Math.random() * max)}px`;

            popup.style.backgroundColor = back;
            popup.style.color = color;
            
            popup.addEventListener("click", function() {
                addpopup()
            });

            let title = document.createElement("h1");
            title.innerText = message;

            popup.appendChild(title);
            document.body.appendChild(popup);
            count += 20;
        };

        document.addEventListener("DOMContentLoaded", function() {
            setInterval(addpopup, time)
        })
    </script>

    <style>
        div {
            width: 500px;
            height: 300px;

            position: absolute;
            background-color: #f0f0f0;
            padding: 10px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        body {
            overflow: hidden;
        }
    </style>
</html>
